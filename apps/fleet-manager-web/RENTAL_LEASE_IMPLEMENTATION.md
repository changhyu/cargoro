# 카고로 렌터카/리스 관리 시스템 구현 완료

## 구현 개요

CarGoro의 fleet-manager-web 앱에 렌터카 및 리스 사업을 위한 통합 관리 시스템을 구현했습니다.

## 주요 구현 기능

### 1. 렌터카/리스 대시보드 (`/features/rental`)

- 전체 차량 현황 및 통계
- 활성 계약 수, 월 매출, 연체금액 실시간 표시
- 빠른 액션 버튼 (새 계약, 예약 등록)
- 최근 활동 내역

### 2. 차량 관리 (`/vehicles`)

- 보유 차량 목록 및 상태 관리
- 차량별 상태 (이용가능, 대여중, 정비중, 예약됨)
- 필터링 및 검색 기능
- 차량 정보 (모델, 연식, 주행거리, 다음 정비일 등)

### 3. 계약 관리 (`/features/contracts`)

- 렌탈 계약과 리스 계약 통합 관리
- 계약 상태별 필터링
- 계약 상세 정보 (고객, 차량, 기간, 금액)
- 계약 종료/해지 기능

### 4. 새 렌탈 계약 생성 (`/features/rental/new`)

- 고객 및 차량 선택
- 단기/장기 렌탈 구분
- 보험 유형 선택 (기본/표준/프리미엄/완전)
- 추가 옵션 선택 (네비게이션, 카시트 등)
- 실시간 요금 계산

### 5. 새 리스 계약 생성 (`/features/lease/new`)

- 운용리스/금융리스 선택
- 월 납입금 및 선납금 설정
- 주행거리 제한 및 초과 요금 설정
- 정비/보험 포함 옵션
- 총 납입액 자동 계산

### 6. 예약 관리 (`/features/reservations`)

- 예약 목록 및 캘린더 보기
- 예약 상태 관리 (대기/확정/취소)
- 새 예약 등록 기능
- 일별 예약 현황 확인

### 7. 고객 관리 (`/customers`)

- 개인/법인 고객 구분
- 고객 검증 상태 관리
- 계약 이력 조회
- 새 고객 등록

### 8. 재무 관리 (`/features/finance`)

- 월별 매출 차트
- 결제 방법별 분포
- 계약 유형별 매출 분석
- 연체 결제 관리
- 결제 처리 및 환불

### 9. 보고서 및 분석 (`/features/reports`)

- 월별 매출 추이
- 차량 가동률 분석
- 고객 유형별 매출 분포
- 인기 차량 순위
- 수익성 분석

## 기술 스택

- **프론트엔드**: Next.js 14 (App Router), React, TypeScript
- **상태 관리**: Zustand with persist
- **UI 컴포넌트**: ShadCN UI, Tailwind CSS
- **차트**: Recharts
- **폼 관리**: React Hook Form with Zod validation
- **날짜 처리**: date-fns v2

## 타입 정의

### 주요 타입 (`app/types/rental.types.ts`)

- `RentalContract`: 렌탈 계약 정보
- `LeaseContract`: 리스 계약 정보
- `Customer`: 고객 정보 (개인/법인)
- `Vehicle`: 차량 정보
- `Reservation`: 예약 정보
- `Payment`: 결제 정보

## 상태 관리

### Zustand Store (`app/state/rental-store.ts`)

- 렌탈/리스 계약 CRUD
- 차량 상태 관리
- 고객 정보 관리
- 예약 및 결제 처리
- 통계 및 필터링 메서드

## 샘플 데이터

### 초기 데이터 (`app/utils/sample-data.ts`)

- 5대의 차량 (아반떼, K5, 그랜저, 카니발, 아이오닉5)
- 5명의 고객 (개인 3명, 법인 2개)
- 렌탈 및 리스 계약 샘플

## 네비게이션 구조

```
렌터카/리스 대시보드
├── 차량 관리
├── 계약 관리
│   ├── 렌탈 계약
│   └── 리스 계약
├── 예약 관리
├── 고객 관리
├── 재무 관리
│   ├── 수익 분석
│   ├── 결제 내역
│   └── 연체 관리
└── 보고서
```

## 주요 기능 특징

1. **실시간 통계**: 대시보드에서 주요 지표 실시간 확인
2. **통합 관리**: 렌탈과 리스를 하나의 시스템에서 관리
3. **자동 계산**: 요금, 기간, 총액 자동 계산
4. **상태 추적**: 차량, 계약, 예약 상태 실시간 추적
5. **데이터 시각화**: 차트를 통한 직관적인 데이터 분석

## 접근 방법

1. 메인 페이지(`/`) 접속 시 자동으로 렌터카/리스 대시보드로 리다이렉트
2. 좌측 사이드바에서 각 메뉴 접근
3. 초기 접속 시 샘플 데이터 자동 로드

## 추가 개발 가능 사항

- 실제 백엔드 API 연동
- 차량 IoT 데이터 연동
- 모바일 앱 개발
- 고객용 예약 포털
- 결제 게이트웨이 연동
- 보험사 API 연동
- 정비소 연동 시스템
