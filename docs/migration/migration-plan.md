# 코드 일관성 마이그레이션 계획

이 문서는 CarGoro 프로젝트의 코드 일관성 문제 해결을 위한 마이그레이션 계획을 설명합니다.

## 발견된 문제점

코드 일관성 검사 결과, 다음과 같은 주요 문제점이 발견되었습니다:

### 백엔드 이슈

1. 백엔드 코드가 Python과 TypeScript 혼용
2. Python 코드에서 camelCase와 snake_case 혼용
3. API 응답 형식 불일치

### 프론트엔드 이슈

1. 일부 앱에서 src/ 폴더 사용 (개발 규칙 위반)
2. 앱 폴더 구조의 불일치
3. TypeScript any 타입 사용

## 마이그레이션 계획

### 1단계: 백엔드 언어 통일 (2주)

#### 1주차: 분석 및 준비

- [x] 일관성 검사 스크립트 작성
- [x] 백엔드 일관성 분석 보고서 생성
- [x] Python 코드 스타일 가이드 문서화
- [x] 표준 API 응답 형식 정의

#### 2주차: 핵심 서비스 변환

- [x] `core-api` 내 TypeScript 파일을 Python으로 변환
  - [x] `organizations-route.ts` → `organization_routes.py`
  - [x] `users-route.ts` → `user_routes_enhanced.py`
- [ ] API 응답 형식 표준화
  - [x] 공통 응답 유틸리티 작성
  - [ ] 기존 API 응답 업데이트
- [ ] `core-api` 통합 테스트

#### 3주차: 추가 서비스 변환

- [ ] `repair-api` 내 TypeScript 파일 변환
- [ ] `delivery-api` 내 TypeScript 파일 변환
- [ ] 각 서비스 통합 테스트

#### 4주차: 나머지 서비스 변환

- [ ] `parts-api` 내 TypeScript 파일 변환
- [ ] `fleet-api` 내 TypeScript 파일 변환
- [ ] `admin-api` 내 TypeScript 파일 변환
- [ ] 전체 백엔드 통합 테스트

### 2단계: 프론트엔드 구조 통일 (2주)

#### 1주차: 분석 및 준비

- [x] 프론트엔드 일관성 분석 보고서 생성
- [x] 폴더 구조 가이드라인 문서화
- [ ] src/ 폴더 마이그레이션 계획 수립

#### 2주차: src/ 폴더 제거

- [ ] src/ 폴더를 사용하는 앱 식별
- [ ] App Router 구조로 마이그레이션
- [ ] 마이그레이션 검증

#### 3주차: 폴더 구조 통일

- [ ] 표준 폴더 구조 템플릿 작성
- [ ] 모든 앱에 일관된 구조 적용
- [ ] 폴더 순서 정렬 스크립트 작성

#### 4주차: any 타입 제거

- [ ] any 타입 사용 파일 분석
- [ ] 구체적인 타입 정의 추가
- [ ] 타입 안전성 검증

### 3단계: 모니터링 및 유지 관리 (1주)

- [ ] CI/CD 파이프라인에 일관성 검사 통합
- [ ] 코드 리뷰 체크리스트 업데이트
- [ ] 개발 팀 교육

## 책임 및 일정

### 책임자

- 백엔드 마이그레이션: 백엔드 리드
- 프론트엔드 마이그레이션: 프론트엔드 리드
- 모니터링 및 유지 관리: DevOps 엔지니어

### 일정

- 시작일: 2025년 5월 27일
- 1단계 완료 예정: 2025년 6월 24일
- 2단계 완료 예정: 2025년 7월 22일
- 3단계 완료 예정: 2025년 7월 29일

## 성공 기준

- 모든 백엔드 코드가 Python으로 통일
- 모든 Python 코드가 snake_case 네이밍 규칙 준수
- 모든 API가 표준 응답 형식 사용
- 모든 앱이 App Router 구조 및 표준 폴더 구조 준수
- any 타입 사용 제거
- 일관성 검사가 CI/CD 파이프라인에 통합
